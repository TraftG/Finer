(function(){var t={7906:function(t,e,n){"use strict";var r=n(5130),o=n(6768);const a={id:"app"};function s(t,e,n,r,s,A){const i=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",a,[(0,o.bF)(i)])}var A={name:"App"},i=n(1241);const c=(0,i.A)(A,[["render",s]]);var u=c,g=n(1387),l=n(4232),d="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAABsxJREFUeF7lmweoJEUQhr9DMaCiGMGcI+aIOWcMqJgQA4iCKGJCBQOKCRUMKKKieCoqZjHnHDFgRlFUzCiYwAzOd3Q/mrnZnZ7dnX3r24bjeOyE7r+r/vq7qmYawx9zAEsBmwCbA78DLwCvA58Cfw5zStOG+LJZgcWATYHtgW3C307h+wKQx4B7it9eBH4cFhDDAmA+YD1gj/BPIKrGx8CtwFPAG8DPbW9Q2wDMDawYTP0AYP2MBbnol4trHyis5DnggzatoS0AUj/fO5j9PBmLTy8RiGeA29vkhzYAWLAw4S0KE96t5OcN1z9xeav8MEgANPdVgZ2A/QpfXjljxf8E85YgZ6+5vhV+GAQAqbkfCGydsfA/gE8KQnwL+AlYEtgQWLjm3oHzQz8AdAtrndbhjn8FPA/cVyz6IeCvws9XA/YCdgZWybCGyA+3FBb3CvB1r0TZKwD6+UYFW+9YE9ZSINzp14B7gbvDpNPf5w3csT+wQdAIdW7xRQDy0UCUjfVDUwB68fNo7k7SHRMEhyCuBcwFfJSowCWA3YM1bAwITLehcnwvhM3G+iEXgF783Elr8gqai4O5/wqUQZy/QgV67zqA1rBZA7dQP2hhT+fK6joAevHzciy/CjgZqAMxsryS+NXg0+6+1nBS4IkMfm0mq7sBkCtfu03qO+By4JxwADocOCQ5A5TvrRI/htazg6bwd4GscwufK6B3AC8FolRPzDSqAPAFyxUntO0K38yVr51ASAFYHTgjsH3dTkbxoynLFfsCus8jwCIN3CLyw50FsT5YJavLAGjy+t7xQdA0la/6/L9JGOsVgAiQCzBM/gJcUvDHRWH3VZoHAZLkAplh8wlAd3w2DZllAET3mOKlp9ZtUel3F66w8VwvqW0VJtovAPE1WsSNwBVJzF8hKE7f5abVuYVg3hX45Mv44DIATcy0E9l53r8w6IRBAeC70piv+BEUF62C9Ji9JbBsjTU8HjbYE+aMMSgAOi10kAA43+jTtwUxJdE5lNBylkB0c4v/PQBx47QGtcVlJVeMbiEYqsmykuwbgB8Ck0qOqWYflgXE9abvM2pJhH8nbmHUOA1YvARQXwBIdA+HmLx8iBSSj2MyATC9tmsAQbn9TRH7dwDOqtAbfQGgCImqTp87MkQLzWwyAZD4VIrmIJTC74SoUHUs7wuAdJHuuhL1miI0LTQiAByREboHCoBp7UuDRh8FCxg6ADLuKcCh42oBipDDilBzXkhrxUNPKqYGrQOqokDkgKFbgJORbZWnnvHHEoC1Q7ix4DGWAJjN9eSo8KgDQOF0QpES2yWDrb2k27k/da1JdYHIA8cCV4fERycOUDtYDV4pEwAFzraAZFseIwNA5IHTQ8LBzE8nADLXPXHZogW5CuyJowiAiZNZwunMBcvAStBuAETNXpfqjutV3x8MHDWKADg5U1WfBV/Vr90xMzadLMCmCNWjOb6cocvE+sDIuYDEsybwdsgEWfu3unNDFwB6TbZUgTXpHCAAdnmYWro/EJURwbzbWAghAfD09VtIShgNrPBYoxsbADwOS4aeB9LGprEBwDP40oGlzQjHMVYAyNJqAHlgLAHYM2SJzk3cYKwsQAFkN5d8EIsNYweA3R7KVfNxjikLgEnR6wLre6A5E9AFbG44v6j+Xj/VAXB99vOaGfakZqnb/1NgDIdT1gIiy8eKbVo5tmztocVwOOUBqNLmbybhcBgApFbnIctqtifHulGbFl+mqMUfF8w799jqS63UXlsUKa8MTdFmfqwSt5UU9Z2W4i8IdQmjUF0fspUt+4cs/yvZZ4xyddhFm7U5OrNxMUX83VA681To4nWRNgHQCvy+YM6MrtTYojcduCmddFWLjCA0bVzsZHptAlBn7v7uYc0oZdN12qI3cW+3JqnYuLgPsG5G80HVhCYLAHsTPw9uYqOUWsUeo5lGXZucN+Q2H1Q9PyWrNQAls4nONse3IS9hpVjSm/D3XgGI9zXtyYn3VWmHNgDQz60M2w2mr3ddeCcSrJtY7MmxHp/bwekzq7RD3btyf6/1824PynGBqvsHwQ+5C+x0XbaftwFAfGY//NAPALbqyOy23Nf6eZsA9MsPTUHQ3N8Pjdd+XfZh0weUr+/VBTq5hT17TfkhZw2pud9ciLUnc27KuWaQAMT39fLhQ6e5pl+YZIW1nEWn17QBQHx+/PDB+kHO90DluevnJlnsTKv6wqTpWiuvbxMAX5jKaoFQS9T19Maw5o5baerbz4dBgnW7kdPTO5CwVjeRNkkw591VYdMqc/ySrBU/HwULKM9BV/CTWpMns4WPpVvz824A/AcraNVfuY8nGgAAAABJRU5ErkJggg==",f="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAErSURBVHgB3ZXvTcMwEMWfEd/JBngDYAM2aZmgYoKUCVAnoGwAEzSdoDABZgLYwH1Wr1VjOc45kSq1P+nJkXz2i+/8B7gUTK7Te1+xeaUeM2EN9WyM+UcpNJhTK69jQ01KDeLJa+o2oVkUt0rNZxIGUzZvVFi+o+6ldYnxVhT6KtGcqXuBchUTylI/Ps+fxNVdq7nu+LuA4x85Dnrg9x26+Q5FZ9w6Gp81aSG7Zo0RXOEE9K6EaQiFn2VCFlztF8aYiMG0J+YJI03CdnSZ/nf0oCm8E6PBaGpi0b67PkrvKU26arRrckMtUIDGJM75JwrR1KTB7jofzEkOY8rESWtRho3GH0ilq8FuN4VH6xf5M3JsUMv3EhrkpRvCJjWfyRjtr5MKOpa9j9XZswVnnCHlV/9cVQAAAABJRU5ErkJggg==",m="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEsSURBVHgBvVOLUcMwDJVzDOANmg3oCNmAbkCZIGxQNqAbkA1gg5QJgAkCEyRMoErXl1Z1nF+v13enU2RJz4pkEV0ZLnbIzJmoexEv8umc29GlELKCuyhFPM2FJG1BUIu8QqqWdC6ZNxWl5jzFBYxWDCIx30vonfTstz3E9wfMRaSQpS3AEjbQKXXhg5iWbCXqS2TTIZRKvpGgv/hiktaiVjB/ei6KQ280fazNQBQbE/cMXx3Eln2kVUCcBzElx1EPVbtQGfHnIHqH7e9MQEan7bCJ1jxujeg/8f3jvFHbJm15Ot4YW8OHt6uPv31y5PgwUW24Trig4GkYpCIZdCEVPUWjzAAeaAR8vjW+L0hR0URgAIrHmD+h+WiGnMmUoFnEUvraTmkM6GNOt8IeztSIoxjn/2EAAAAASUVORK5CYII=",p="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADCSURBVHgBxZOLDcIwDEQd1AFggzIB2YCOQEdiAtgARugGlAnIBmSEMEE4C1sKAlUorsRJJ7up/fpx4mhCOecWYQl7eAO3kvNagnvnXOBaJw18YyfF2qiQKQ0A9Zw0gDDg9EMTKxaxK3sa+CCvOUhMUljmDzw50ftnXxCCXjssZCmOVKcI7xVk1TgXiBY0k2pBOggTaITXmOIK8WgBnYutcLWAuiLfalI7tUivf+StoA/9ffxfQYHsinyKPXzP9box4wmRRIbKhDkEyAAAAABJRU5ErkJggg==",b="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGBSURBVHgB7VTRUYNAFHxk8h86ECtIrACsQDtAK4ipAKnAEjSVhHSAFYgViBXgriwO3AAxCV+OO7PzjuPYd7fvHWb/AKqqisC4751nZwCiAcKzHn3P867cNXM7ARD2EdbgCszBcmjt0Qkg/oCwkGiu6S0Yn5WAPiOEYAZeghfgO1/BmgLve7+b2WHhAHyy2uO0Jc5dLzC3Hft+PiJMn5tjpxAqMXenHacYJxjvEVd4zo9KIKHvXfL4mqP3H9yxusfXGto2mMAVZj8nYOjMPw71uU7yE13M2iII9JqF85QsUHGXI16XstNGEwCFuBTZFqHG+dAJgFer70MvOjdZ3vICMeYtgYxFdteqPZtmaLqsg06RVdCNEtFT2kLhWEIc79U1nOM4G7Oot4uU6N7tJgmFiDeIkZZnNoJf/ezUIZ/gS9sqNQDBOtGyjZ0KdVTiFltzt+DOpoAS7VSn5u4wwVvf+oP/IhesBXiNYSTrCqstKmxqsOjgmrufzKKBREGr4H8MX+4R/O6ZVXrUAAAAAElFTkSuQmCC";const v={class:"background"},w={class:"energy-spent-display"},h=["src"],y={class:"bottom-bar"},C={class:"square-button right"},B={class:"energy-bar-container"},E={class:"energy-bar-background"},I={class:"energy-text"};function U(t,e,n,r,a,s){const A=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",v,[e[5]||(e[5]=(0,o.Lk)("div",{class:"top-container"},null,-1)),(0,o.Lk)("div",w,[e[1]||(e[1]=(0,o.Lk)("img",{src:d,alt:"Energy Icon",class:"energy-icon"},null,-1)),(0,o.eW)(" "+(0,l.v_)(a.energySpent.toFixed(4)),1)]),(0,o.Lk)("img",{src:a.centerImage,alt:"NFT Image",class:"center-image"},null,8,h),(0,o.Lk)("button",{class:(0,l.C4)(["start-button",{"stop-button":a.isStarted}]),onClick:e[0]||(e[0]=(...t)=>s.toggleButton&&s.toggleButton(...t))},(0,l.v_)(s.buttonText),3),(0,o.Lk)("div",y,[e[3]||(e[3]=(0,o.Fv)('<button class="square-button"><img src="'+f+'" alt="Button Icon" class="button-image"><span class="button-text">tasks</span></button><button class="square-button second"><img src="'+m+'" alt="Button Icon" class="button-image"><span class="button-text">frens</span></button>',2)),(0,o.Lk)("button",C,[(0,o.bF)(A,{to:"/wallet"},{default:(0,o.k6)((()=>e[2]||(e[2]=[(0,o.Lk)("img",{src:p,alt:"Button Icon",class:"button-image"},null,-1),(0,o.Lk)("span",{class:"button-text"},"wallet",-1)]))),_:1})]),e[4]||(e[4]=(0,o.Lk)("button",{class:"square-button right second"},[(0,o.Lk)("img",{src:b,alt:"Button Icon",class:"button-image"}),(0,o.Lk)("span",{class:"button-text"},"boost")],-1)),(0,o.Lk)("div",B,[(0,o.Lk)("div",E,[(0,o.Lk)("div",{class:"energy-bar",style:(0,l.Tr)({width:a.progress+"%"})},null,4)]),(0,o.Lk)("div",I,(0,l.v_)(a.energyRemaining.toFixed(1))+"/100",1)])])])}var k=n(7094);const O="https://eocwsrgvuangzrtjgysw.supabase.co",M="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVvY3dzcmd2dWFuZ3pydGpneXN3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzY2NDA1MTAsImV4cCI6MjA1MjIxNjUxMH0.soHdm-1otdB5JBnLXcVukQXBNtjULErrOly9_xL4hiY",S=(0,k.UU)(O,M);function j(){const t="undefined"!==typeof window&&window.Telegram?window.Telegram.WebApp:null;return{tg:t,user:t?.initDataUnsafe?.user}}const{user:Y}=j(),Q=parseInt(Y?.id??4252,10);var x={name:"HomePage",data(){return{isStarted:!1,progress:100,energyRemaining:100,energySpent:0,interval:null,centerImage:n(3770)}},computed:{buttonText(){return this.isStarted?"Stop":"Start"}},methods:{async updateEnergyData(t){try{const{data:e,error:n}=await S.from("users").select("id").eq("telegram",Q).single();if(n&&"PGRST116"!==n.code)return void console.error("Ошибка при получении данных:",n.message);e?await S.from("users").update({energy:t}).eq("telegram",Q):await S.from("users").insert([{telegram:Q,energy:t}])}catch(e){console.error("Неизвестная ошибка:",e)}},async fetchEnergyData(){try{const{data:t}=await S.from("users").select("energy, score").eq("telegram",Q).single();t?(this.energyRemaining=t.energy,this.energySpent=t.score||0,this.progress=this.energyRemaining,this.energySpent>=1e3&&this.changeBackgroundAndImage()):await this.updateEnergyData(100)}catch(t){console.error("Ошибка при получении данных:",t)}},toggleButton(){this.isStarted=!this.isStarted,this.isStarted?this.startMining():this.stopMining()},squareButtonClick(){console.log("Square button clicked!")},startMining(){this.interval=setInterval((()=>{if(this.energyRemaining>0){const t=.16436;this.energyRemaining=Math.max(0,(this.energyRemaining-t).toFixed(5)),this.progress=this.energyRemaining,this.energySpent=parseFloat((this.energySpent+t).toFixed(5)),this.energySpent>=1e3&&this.centerImage!==n(8001)&&this.changeBackgroundAndImage(),this.updateEnergyData(this.energyRemaining)}else this.stopMining()}),2e3)},changeBackgroundAndImage(){document.querySelector(".background").style.background="linear-gradient(to bottom, #7FCA6A, #7FCA6A)",this.centerImage=n(8001)},stopMining(){clearInterval(this.interval),this.interval=null,this.updateEnergyData(this.energyRemaining),this.saveScoreToDatabase(this.energySpent)},async saveScoreToDatabase(t){try{const{data:e}=await S.from("users").select("id").eq("telegram",Q).single();e?await S.from("users").update({score:t}).eq("telegram",Q):await S.from("users").insert([{telegram:Q,score:t}])}catch(e){console.error("Ошибка при сохранении данных:",e)}}},async mounted(){this.fetchEnergyData()}};const T=(0,i.A)(x,[["render",U]]);var V=T,F=n.p+"img/utyaduck_agadaweaaladvqo.e9bda65b.gif";const R={class:"wallet-container"};function D(t,e,n,r,a,s){const A=(0,o.g2)("TonConnectButton");return(0,o.uX)(),(0,o.CE)("div",R,[e[0]||(e[0]=(0,o.Lk)("div",{class:"header"},[(0,o.Lk)("img",{src:F,alt:"Wallet Animation"})],-1)),e[1]||(e[1]=(0,o.Lk)("div",{class:"nft-collection"},"NFT Collection",-1)),e[2]||(e[2]=(0,o.Lk)("div",{class:"wallet-address"},"Wallet ",-1)),(0,o.bF)(A),(0,o.Lk)("span",null,(0,l.v_)(r.userFriendlyAddress),1)])}var L=n(9964),N={name:"WalletPage",setup(){const t=(0,L.zI)(),e=(0,L.zI)(!1);return{userFriendlyAddress:t,rawAddress:e}},components:{TonConnectButton:L.MJ}};const H=(0,i.A)(N,[["render",D],["__scopeId","data-v-0fd31b94"]]);var q=H;const X=[{path:"/",component:V,name:"Home"},{path:"/wallet",component:q,name:"Wallet"}],W=(0,g.aE)({history:(0,g.LA)(),routes:X});var J=W;const{tonConnectUI:Z,setOptions:z}=(0,L.Rr)({manifestUrl:"https://your-manifest-url"}),G=(0,r.Ef)(u);G.provide(L.Re,Z),G.provide(L.nE,z),G.use(J),G.mount("#app")},3770:function(t,e,n){"use strict";t.exports=n.p+"img/miner1.842eec94.png"},8001:function(t,e,n){"use strict";t.exports=n.p+"img/miner2.b2de4b05.png"},1281:function(){}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={exports:{}};return t[r].call(a.exports,a,a.exports,n),a.exports}n.m=t,function(){n.amdO={}}(),function(){var t=[];n.O=function(e,r,o,a){if(!r){var s=1/0;for(u=0;u<t.length;u++){r=t[u][0],o=t[u][1],a=t[u][2];for(var A=!0,i=0;i<r.length;i++)(!1&a||s>=a)&&Object.keys(n.O).every((function(t){return n.O[t](r[i])}))?r.splice(i--,1):(A=!1,a<s&&(s=a));if(A){t.splice(u--,1);var c=o();void 0!==c&&(e=c)}}return e}a=a||0;for(var u=t.length;u>0&&t[u-1][2]>a;u--)t[u]=t[u-1];t[u]=[r,o,a]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){var t,e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__};n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var s={};t=t||[null,e({}),e([]),e(e)];for(var A=2&o&&r;"object"==typeof A&&!~t.indexOf(A);A=e(A))Object.getOwnPropertyNames(A).forEach((function(t){s[t]=function(){return r[t]}}));return s["default"]=function(){return r},n.d(a,s),a}}(),function(){n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){n.f={},n.e=function(t){return Promise.all(Object.keys(n.f).reduce((function(e,r){return n.f[r](t,e),e}),[]))}}(),function(){n.u=function(t){return"js/"+t+".dab57662.js"}}(),function(){n.miniCssF=function(t){}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="finerlast:";n.l=function(r,o,a,s){if(t[r])t[r].push(o);else{var A,i;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var g=c[u];if(g.getAttribute("src")==r||g.getAttribute("data-webpack")==e+a){A=g;break}}A||(i=!0,A=document.createElement("script"),A.charset="utf-8",A.timeout=120,n.nc&&A.setAttribute("nonce",n.nc),A.setAttribute("data-webpack",e+a),A.src=r),t[r]=[o];var l=function(e,n){A.onerror=A.onload=null,clearTimeout(d);var o=t[r];if(delete t[r],A.parentNode&&A.parentNode.removeChild(A),o&&o.forEach((function(t){return t(n)})),e)return e(n)},d=setTimeout(l.bind(null,void 0,{type:"timeout",target:A}),12e4);A.onerror=l.bind(null,A.onerror),A.onload=l.bind(null,A.onload),i&&document.head.appendChild(A)}}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){var t={524:0};n.f.j=function(e,r){var o=n.o(t,e)?t[e]:void 0;if(0!==o)if(o)r.push(o[2]);else{var a=new Promise((function(n,r){o=t[e]=[n,r]}));r.push(o[2]=a);var s=n.p+n.u(e),A=new Error,i=function(r){if(n.o(t,e)&&(o=t[e],0!==o&&(t[e]=void 0),o)){var a=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;A.message="Loading chunk "+e+" failed.\n("+a+": "+s+")",A.name="ChunkLoadError",A.type=a,A.request=s,o[1](A)}};n.l(s,i,"chunk-"+e,e)}},n.O.j=function(e){return 0===t[e]};var e=function(e,r){var o,a,s=r[0],A=r[1],i=r[2],c=0;if(s.some((function(e){return 0!==t[e]}))){for(o in A)n.o(A,o)&&(n.m[o]=A[o]);if(i)var u=i(n)}for(e&&e(r);c<s.length;c++)a=s[c],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(u)},r=self["webpackChunkfinerlast"]=self["webpackChunkfinerlast"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=n.O(void 0,[504],(function(){return n(7906)}));r=n.O(r)})();
//# sourceMappingURL=app.6d20d7f6.js.map