(function(){var e={405:function(e,t,n){"use strict";var r=n(5130),a=n(6910),s=n(6768);const o={id:"app"};function i(e,t,n,r,a,i){const l=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.CE)("div",o,[(0,s.bF)(l)])}var l={name:"App"},c=n(1241);const A=(0,c.A)(l,[["render",i]]);var u=A,g=n(1387),d=n(4232),m="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAABsxJREFUeF7lmweoJEUQhr9DMaCiGMGcI+aIOWcMqJgQA4iCKGJCBQOKCRUMKKKieCoqZjHnHDFgRlFUzCiYwAzOd3Q/mrnZnZ7dnX3r24bjeOyE7r+r/vq7qmYawx9zAEsBmwCbA78DLwCvA58Cfw5zStOG+LJZgcWATYHtgW3C307h+wKQx4B7it9eBH4cFhDDAmA+YD1gj/BPIKrGx8CtwFPAG8DPbW9Q2wDMDawYTP0AYP2MBbnol4trHyis5DnggzatoS0AUj/fO5j9PBmLTy8RiGeA29vkhzYAWLAw4S0KE96t5OcN1z9xeav8MEgANPdVgZ2A/QpfXjljxf8E85YgZ6+5vhV+GAQAqbkfCGydsfA/gE8KQnwL+AlYEtgQWLjm3oHzQz8AdAtrndbhjn8FPA/cVyz6IeCvws9XA/YCdgZWybCGyA+3FBb3CvB1r0TZKwD6+UYFW+9YE9ZSINzp14B7gbvDpNPf5w3csT+wQdAIdW7xRQDy0UCUjfVDUwB68fNo7k7SHRMEhyCuBcwFfJSowCWA3YM1bAwITLehcnwvhM3G+iEXgF783Elr8gqai4O5/wqUQZy/QgV67zqA1rBZA7dQP2hhT+fK6joAevHzciy/CjgZqAMxsryS+NXg0+6+1nBS4IkMfm0mq7sBkCtfu03qO+By4JxwADocOCQ5A5TvrRI/htazg6bwd4GscwufK6B3AC8FolRPzDSqAPAFyxUntO0K38yVr51ASAFYHTgjsH3dTkbxoynLFfsCus8jwCIN3CLyw50FsT5YJavLAGjy+t7xQdA0la/6/L9JGOsVgAiQCzBM/gJcUvDHRWH3VZoHAZLkAplh8wlAd3w2DZllAET3mOKlp9ZtUel3F66w8VwvqW0VJtovAPE1WsSNwBVJzF8hKE7f5abVuYVg3hX45Mv44DIATcy0E9l53r8w6IRBAeC70piv+BEUF62C9Ji9JbBsjTU8HjbYE+aMMSgAOi10kAA43+jTtwUxJdE5lNBylkB0c4v/PQBx47QGtcVlJVeMbiEYqsmykuwbgB8Ck0qOqWYflgXE9abvM2pJhH8nbmHUOA1YvARQXwBIdA+HmLx8iBSSj2MyATC9tmsAQbn9TRH7dwDOqtAbfQGgCImqTp87MkQLzWwyAZD4VIrmIJTC74SoUHUs7wuAdJHuuhL1miI0LTQiAByREboHCoBp7UuDRh8FCxg6ADLuKcCh42oBipDDilBzXkhrxUNPKqYGrQOqokDkgKFbgJORbZWnnvHHEoC1Q7ix4DGWAJjN9eSo8KgDQOF0QpES2yWDrb2k27k/da1JdYHIA8cCV4fERycOUDtYDV4pEwAFzraAZFseIwNA5IHTQ8LBzE8nADLXPXHZogW5CuyJowiAiZNZwunMBcvAStBuAETNXpfqjutV3x8MHDWKADg5U1WfBV/Vr90xMzadLMCmCNWjOb6cocvE+sDIuYDEsybwdsgEWfu3unNDFwB6TbZUgTXpHCAAdnmYWro/EJURwbzbWAghAfD09VtIShgNrPBYoxsbADwOS4aeB9LGprEBwDP40oGlzQjHMVYAyNJqAHlgLAHYM2SJzk3cYKwsQAFkN5d8EIsNYweA3R7KVfNxjikLgEnR6wLre6A5E9AFbG44v6j+Xj/VAXB99vOaGfakZqnb/1NgDIdT1gIiy8eKbVo5tmztocVwOOUBqNLmbybhcBgApFbnIctqtifHulGbFl+mqMUfF8w799jqS63UXlsUKa8MTdFmfqwSt5UU9Z2W4i8IdQmjUF0fspUt+4cs/yvZZ4xyddhFm7U5OrNxMUX83VA681To4nWRNgHQCvy+YM6MrtTYojcduCmddFWLjCA0bVzsZHptAlBn7v7uYc0oZdN12qI3cW+3JqnYuLgPsG5G80HVhCYLAHsTPw9uYqOUWsUeo5lGXZucN+Q2H1Q9PyWrNQAls4nONse3IS9hpVjSm/D3XgGI9zXtyYn3VWmHNgDQz60M2w2mr3ddeCcSrJtY7MmxHp/bwekzq7RD3btyf6/1824PynGBqvsHwQ+5C+x0XbaftwFAfGY//NAPALbqyOy23Nf6eZsA9MsPTUHQ3N8Pjdd+XfZh0weUr+/VBTq5hT17TfkhZw2pud9ciLUnc27KuWaQAMT39fLhQ6e5pl+YZIW1nEWn17QBQHx+/PDB+kHO90DluevnJlnsTKv6wqTpWiuvbxMAX5jKaoFQS9T19Maw5o5baerbz4dBgnW7kdPTO5CwVjeRNkkw591VYdMqc/ySrBU/HwULKM9BV/CTWpMns4WPpVvz824A/AcraNVfuY8nGgAAAABJRU5ErkJggg==",v="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAErSURBVHgB3ZXvTcMwEMWfEd/JBngDYAM2aZmgYoKUCVAnoGwAEzSdoDABZgLYwH1Wr1VjOc45kSq1P+nJkXz2i+/8B7gUTK7Te1+xeaUeM2EN9WyM+UcpNJhTK69jQ01KDeLJa+o2oVkUt0rNZxIGUzZvVFi+o+6ldYnxVhT6KtGcqXuBchUTylI/Ps+fxNVdq7nu+LuA4x85Dnrg9x26+Q5FZ9w6Gp81aSG7Zo0RXOEE9K6EaQiFn2VCFlztF8aYiMG0J+YJI03CdnSZ/nf0oCm8E6PBaGpi0b67PkrvKU26arRrckMtUIDGJM75JwrR1KTB7jofzEkOY8rESWtRho3GH0ilq8FuN4VH6xf5M3JsUMv3EhrkpRvCJjWfyRjtr5MKOpa9j9XZswVnnCHlV/9cVQAAAABJRU5ErkJggg==",p="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEsSURBVHgBvVOLUcMwDJVzDOANmg3oCNmAbkCZIGxQNqAbkA1gg5QJgAkCEyRMoErXl1Z1nF+v13enU2RJz4pkEV0ZLnbIzJmoexEv8umc29GlELKCuyhFPM2FJG1BUIu8QqqWdC6ZNxWl5jzFBYxWDCIx30vonfTstz3E9wfMRaSQpS3AEjbQKXXhg5iWbCXqS2TTIZRKvpGgv/hiktaiVjB/ei6KQ280fazNQBQbE/cMXx3Eln2kVUCcBzElx1EPVbtQGfHnIHqH7e9MQEan7bCJ1jxujeg/8f3jvFHbJm15Ot4YW8OHt6uPv31y5PgwUW24Trig4GkYpCIZdCEVPUWjzAAeaAR8vjW+L0hR0URgAIrHmD+h+WiGnMmUoFnEUvraTmkM6GNOt8IeztSIoxjn/2EAAAAASUVORK5CYII=",f="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADCSURBVHgBxZOLDcIwDEQd1AFggzIB2YCOQEdiAtgARugGlAnIBmSEMEE4C1sKAlUorsRJJ7up/fpx4mhCOecWYQl7eAO3kvNagnvnXOBaJw18YyfF2qiQKQ0A9Zw0gDDg9EMTKxaxK3sa+CCvOUhMUljmDzw50ftnXxCCXjssZCmOVKcI7xVk1TgXiBY0k2pBOggTaITXmOIK8WgBnYutcLWAuiLfalI7tUivf+StoA/9ffxfQYHsinyKPXzP9box4wmRRIbKhDkEyAAAAABJRU5ErkJggg==",h="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGBSURBVHgB7VTRUYNAFHxk8h86ECtIrACsQDtAK4ipAKnAEjSVhHSAFYgViBXgriwO3AAxCV+OO7PzjuPYd7fvHWb/AKqqisC4751nZwCiAcKzHn3P867cNXM7ARD2EdbgCszBcmjt0Qkg/oCwkGiu6S0Yn5WAPiOEYAZeghfgO1/BmgLve7+b2WHhAHyy2uO0Jc5dLzC3Hft+PiJMn5tjpxAqMXenHacYJxjvEVd4zo9KIKHvXfL4mqP3H9yxusfXGto2mMAVZj8nYOjMPw71uU7yE13M2iII9JqF85QsUHGXI16XstNGEwCFuBTZFqHG+dAJgFer70MvOjdZ3vICMeYtgYxFdteqPZtmaLqsg06RVdCNEtFT2kLhWEIc79U1nOM4G7Oot4uU6N7tJgmFiDeIkZZnNoJf/ezUIZ/gS9sqNQDBOtGyjZ0KdVTiFltzt+DOpoAS7VSn5u4wwVvf+oP/IhesBXiNYSTrCqstKmxqsOjgmrufzKKBREGr4H8MX+4R/O6ZVXrUAAAAAElFTkSuQmCC",y="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAYCAYAAADOMhxqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABUSURBVHgB7Y7JDcAgDAQ3NBJKSSehk6QUOl1AIHFIgPnxYD6WrR3bwAEgqVfChpG3l1FNf6dqR1J75WNmc+kJMzVxLkjxG3/xS5uEk2DE4ULSONQ4EKyWKlhWEd0AAAAASUVORK5CYII=";const k={class:"background"},b={class:"energy-spent-display"},w=["src"],L={class:"bottom-bar"},C={class:"square-button right"},E={class:"energy-bar-container"},B={class:"energy-bar-background"},I={class:"energy-text"},S={class:"Level-Design"};function x(e,t,n,r,a,o){const i=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",k,[t[6]||(t[6]=(0,s.Lk)("div",{class:"top-container"},null,-1)),(0,s.Lk)("div",b,[t[1]||(t[1]=(0,s.Lk)("img",{src:m,alt:"Energy Icon",class:"energy-icon"},null,-1)),(0,s.eW)(" "+(0,d.v_)(a.energySpent.toFixed(4)),1)]),(0,s.Lk)("img",{src:a.centerImage,alt:"NFT Image",class:"center-image"},null,8,w),(0,s.Lk)("button",{class:(0,d.C4)(["start-button",{"stop-button":a.isStarted}]),onClick:t[0]||(t[0]=(...e)=>o.toggleButton&&o.toggleButton(...e))},(0,d.v_)(o.buttonText),3),(0,s.Lk)("div",L,[t[4]||(t[4]=(0,s.Fv)('<button class="square-button"><img src="'+v+'" alt="Button Icon" class="button-image"><span class="button-text">tasks</span></button><button class="square-button second"><img src="'+p+'" alt="Button Icon" class="button-image"><span class="button-text">frens</span></button>',2)),(0,s.Lk)("button",C,[(0,s.bF)(i,{to:"/wallet",class:"router-link-active"},{default:(0,s.k6)((()=>t[2]||(t[2]=[(0,s.Lk)("img",{src:f,alt:"Button Icon",class:"button-image"},null,-1),(0,s.Lk)("span",{class:"button-text"},"wallet",-1)]))),_:1})]),t[5]||(t[5]=(0,s.Lk)("button",{class:"square-button right second"},[(0,s.Lk)("img",{src:h,alt:"Button Icon",class:"button-image"}),(0,s.Lk)("span",{class:"button-text"},"boost")],-1)),(0,s.Lk)("div",E,[(0,s.Lk)("div",B,[(0,s.Lk)("div",{class:"energy-bar",style:(0,d.Tr)({width:a.progress+"%"})},null,4)]),(0,s.Lk)("div",I,(0,d.v_)(a.energyRemaining.toFixed(1))+"/100",1),(0,s.bF)(i,{to:"/leaderboard",class:"router-link"},{default:(0,s.k6)((()=>[(0,s.Lk)("div",S,[(0,s.eW)((0,d.v_)(a.playerLevel)+" ",1),t[3]||(t[3]=(0,s.Lk)("img",{src:y,alt:"",class:"arrow"},null,-1))])])),_:1})])])])}var U=n(7094);const O="https://eocwsrgvuangzrtjgysw.supabase.co",Q="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVvY3dzcmd2dWFuZ3pydGpneXN3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzY2NDA1MTAsImV4cCI6MjA1MjIxNjUxMH0.soHdm-1otdB5JBnLXcVukQXBNtjULErrOly9_xL4hiY",R=(0,U.UU)(O,Q);function Y(){const e=window.Telegram?.WebApp;return{tg:e||{},user:e?.initDataUnsafe?.user||null}}const{user:T}=Y();console.log(T?.id);const j=parseInt(T?.id??"4252",10);console.log("User ID:",j);const F=T?.first_name??"Trieyengle";async function W(){try{const{data:e,error:t}=await R.from("users").select().eq("telegram",j);if(t)return console.error("Ошибка при получении пользователя:",t.message),null;if(e.length>0){const t=e[0];if(t.name!==F){const{error:e}=await R.from("users").update({name:F}).eq("id",t.id);e&&console.error("Ошибка при обновлении имени пользователя:",e.message)}return t}const n={telegram:j,name:F,friends:{},tasks:{},score:0,energy:100},{data:r,error:a}=await R.from("users").insert(n).select().single();return a?(console.error("Ошибка при создании пользователя:",a.message),null):r}catch(e){return console.error("Неизвестная ошибка при создании/получении пользователя:",e),null}}var X={name:"HomePage",data(){return{playerRank:0,isStarted:!1,progress:100,energyRemaining:100,energySpent:0,interval:null,centerImage:n(3770),playerLevel:"Rookie"}},computed:{buttonText(){return this.isStarted?"Stop":"Start"}},methods:{updatePlayerLevel(){this.energySpent<1e3?this.playerLevel="Rookie":this.energySpent<5e3?this.playerLevel="Explorer":this.energySpent<1e4?this.playerLevel="Challenger":this.energySpent<15e3?this.playerLevel="Warrior":(this.energySpent,this.playerLevel="Legend"),this.savePlayerLevelToDatabase(this.playerLevel)},async savePlayerLevelToDatabase(e){try{const{data:t}=await R.from("users").select("id").eq("telegram",j).single();t?await R.from("users").update({level:e}).eq("telegram",j):await R.from("users").insert([{telegram:j,level:e}])}catch(t){console.error("Ошибка при сохранении уровня игрока:",t)}},async updateEnergyData(e){try{const{data:t,error:n}=await R.from("users").select("id").eq("telegram",j).single();if(n&&"PGRST116"!==n.code)return void console.error("Ошибка при получении данных:",n.message);t?await R.from("users").update({energy:e}).eq("telegram",j):await R.from("users").insert([{telegram:j,energy:e}])}catch(t){console.error("Неизвестная ошибка:",t)}},async fetchEnergyData(){try{const{data:e}=await R.from("users").select("energy, score").eq("telegram",j).single();e?(this.energyRemaining=e.energy,this.energySpent=e.score||0,this.progress=this.energyRemaining,this.updatePlayerLevel(),this.energySpent>=1e3&&this.changeBackgroundAndImage(),this.energySpent>=5e3&&this.chanimage3(),this.energySpent>=1e4&&this.chanimage4(),this.energySpent>=15e3&&this.chanimage5()):await this.updateEnergyData(100)}catch(e){console.error("Ошибка при получении данных:",e)}},toggleButton(){this.isStarted=!this.isStarted,this.isStarted?this.startMining():this.stopMining()},squareButtonClick(){console.log("Square button clicked!")},startMining(){this.interval=setInterval((()=>{if(this.energyRemaining>0){const e=.16436;this.energyRemaining=Math.max(0,(this.energyRemaining-e).toFixed(5)),this.progress=this.energyRemaining,this.energySpent=parseFloat((this.energySpent+e).toFixed(5)),this.updatePlayerLevel(),this.energySpent>=1e3&&this.centerImage!==n(8001)&&this.changeBackgroundAndImage(),this.energySpent>=5e3&&this.centerImage!==n(9608)&&this.chanimage3(),this.energySpent>=1e4&&this.centerImage!==n(5863)&&this.chanimage4(),this.energySpent>=15e3&&this.centerImage!==n(286)&&this.chanimage5(),this.updateEnergyData(this.energyRemaining)}else this.stopMining()}),2e3)},chanimage3(){document.querySelector(".background").style.background="linear-gradient(to bottom, #327EA5, #327EA5 )",this.centerImage=n(9608)},chanimage4(){document.querySelector(".background").style.background="linear-gradient(to bottom, #D43B3B, #D43B3B )",this.centerImage=n(5863)},chanimage5(){document.querySelector(".background").style.background="linear-gradient(to bottom, #F18928, #F18928 )",this.centerImage=n(286)},changeBackgroundAndImage(){document.querySelector(".background").style.background="linear-gradient(to bottom, #7FCA6A, #7FCA6A)",this.centerImage=n(8001)},stopMining(){clearInterval(this.interval),this.interval=null,this.updateEnergyData(this.energyRemaining),this.saveScoreToDatabase(this.energySpent)},async saveScoreToDatabase(e){try{const{data:t}=await R.from("users").select("id").eq("telegram",j).single();t?await R.from("users").update({score:e}).eq("telegram",j):await R.from("users").insert([{telegram:j,score:e}])}catch(t){console.error("Ошибка при сохранении данных:",t)}},requestFullscreen(){window.Telegram&&window.Telegram.WebApp&&"function"===typeof window.Telegram.WebApp.requestFullscreen?window.Telegram.WebApp.requestFullscreen():console.warn("requestFullscreen is not supported in this version of the Telegram Web App SDK.")},async fetchPlayerRank(){try{const{data:e,error:t}=await R.from("users").select("rank").eq("telegram",j).single();if(t)return void console.error("Ошибка при загрузке ранга:",t.message);e&&void 0!==e.rank&&(this.playerRank=e.rank)}catch(e){console.error("Ошибка при получении ранга:",e)}}},async mounted(){this.fetchEnergyData(),await W(),this.fetchEnergyData(),this.requestFullscreen()}};const D=(0,c.A)(X,[["render",x]]);var M=D,N=n.p+"img/utyaduck_agadaweaaladvqo.e9bda65b.gif";const V={class:"wallet-container"},q={class:"content-box"},J={class:"ton-connect-wrapper"},H={key:1,class:"raw-address"},P={key:0,class:"button-container"},z={class:"images"},Z={key:0},K=["src"],G={key:0,class:"nft-description"},_={key:1},$={key:2},ee={key:1};function te(e,t,n,r,a,o){const i=(0,s.g2)("BackButton"),l=(0,s.g2)("TonConnectButton");return(0,s.uX)(),(0,s.CE)("div",V,[(0,s.bF)(i,{onClick:r.handleBackButton},null,8,["onClick"]),t[6]||(t[6]=(0,s.Lk)("div",{class:"header"},[(0,s.Lk)("img",{src:N,alt:"Wallet Animation"})],-1)),(0,s.Lk)("div",q,[t[4]||(t[4]=(0,s.Lk)("div",{class:"wallet-address"},"Wallet",-1)),t[5]||(t[5]=(0,s.Lk)("img",{src:f,alt:"",class:"walletimg"},null,-1)),(0,s.Lk)("div",J,[r.rawAddress?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(l,{key:0,class:"custom-ton-button"})),r.rawAddress?((0,s.uX)(),(0,s.CE)("span",H,(0,d.v_)(r.userFriendlyAddress),1)):(0,s.Q3)("",!0)]),r.rawAddress?((0,s.uX)(),(0,s.CE)("div",P,[(0,s.Lk)("button",{class:"claimnft",onClick:t[0]||(t[0]=(...e)=>r.redirectToClaimPage&&r.redirectToClaimPage(...e))},t[2]||(t[2]=[(0,s.Lk)("span",{class:"textnft"},"Claim NFT",-1)])),(0,s.Lk)("button",{class:"disconnect",onClick:t[1]||(t[1]=(...e)=>r.disconnectWallet&&r.disconnectWallet(...e))},t[3]||(t[3]=[(0,s.Lk)("span",{class:"distext"},"Disconnect",-1)]))])):(0,s.Q3)("",!0),(0,s.Lk)("div",z,[r.nfts.length?((0,s.uX)(),(0,s.CE)("div",Z,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.nfts,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.index,class:"nft-item"},[(0,s.Lk)("img",{src:e.metadata.image,alt:"NFT Image",class:"nft-image"},null,8,K),e.metadata.description?((0,s.uX)(),(0,s.CE)("p",G,(0,d.v_)(e.metadata.description),1)):(0,s.Q3)("",!0),e.metadata&&e.metadata.attributes&&e.metadata.attributes.length?((0,s.uX)(),(0,s.CE)("p",_,"Attributes:")):(0,s.Q3)("",!0),e.metadata&&e.metadata.attributes?((0,s.uX)(),(0,s.CE)("ul",$,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.metadata.attributes,((e,t)=>((0,s.uX)(),(0,s.CE)("li",{key:t},(0,d.v_)(e.trait_type)+": "+(0,d.v_)(e.value),1)))),128))])):(0,s.Q3)("",!0)])))),128))])):((0,s.uX)(),(0,s.CE)("p",ee,"No NFTs or not connected wallet"))])])])}var ne=n(144),re=n(2925),ae=n(2035),se={name:"WalletPage",setup(){const e=(0,a.zI)(),t=(0,a.zI)(),n="EQAjhJJhtyIDrRwDcA7Ocjbm7-Q-HcaiW8eLFdLYH7uXHRbP",{tonConnectUI:r}=(0,a.Lg)(),o=(0,ne.KR)([]),i=re.A.create({baseURL:"https://tonapi.io/v2"});function l(){window.history.back()}const c=async()=>{if(!t)return;const e=t._value||t;if("string"===typeof e){console.log("Fetching NFTs for wallet address:",e);try{const{data:t}=await i.get(`/accounts/${e}/nfts?collection=${n}`);o.value=t.nft_items||[]}catch(r){console.error("Error fetching NFTs:",r),o.value=[]}}else console.error("Invalid wallet address:",e)};(0,s.wB)(t,(e=>{console.log("rawAddress changed:",e),e?c():o.value=[]}));const A=async()=>{try{r&&r.disconnect?(await r.disconnect(),console.log("Wallet disconnected successfully")):console.error("tonConnectUI or disconnect is undefined.")}catch(e){console.error("Failed to disconnect wallet:",e)}};function u(){window.location.href="https://finerminter.netlify.app/"}return{userFriendlyAddress:e,rawAddress:t,nfts:o,disconnectWallet:A,handleBackButton:l,redirectToClaimPage:u}},components:{TonConnectButton:a.MJ,BackButton:ae.oq}};const oe=(0,c.A)(se,[["render",te],["__scopeId","data-v-5bafe2e2"]]);var ie=oe,le="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAYCAYAAADOMhxqAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+nhxg7wAAAGhJREFUOI1jYBjJ4P///7iwwv///4nWEP8fAhJg6pjwWBrPwMCwAMqWJ2QDzOT/////ryfkJAzF+DRgVYxLgwMuxcgacHmaEU9g4HRSAyEn4dWETwNWTYQ0YGgiRgPWpEFIA+7EN5IAADxuOpSw3gtmAAAAAElFTkSuQmCC";const ce={class:"leaderboard-container"},Ae={class:"level-navigation"},ue=["disabled"],ge={key:0,class:"rookie-banner"},de=["src"],me={key:1,class:"explorer-banner"},ve=["src"],pe={key:2,class:"explorer-banner"},fe=["src"],he={key:3,class:"explorer-banner"},ye=["src"],ke={key:4,class:"explorer-banner"},be=["src"],we=["disabled"],Le={key:0},Ce={class:"card-container"},Ee={class:"card-content"},Be=["src"],Ie={class:"card-details"},Se={class:"card-name"},xe={class:"card-score"},Ue={class:"card-rank"},Oe={key:1};function Qe(e,t,n,r,a,o){const i=(0,s.g2)("BackButton");return(0,s.uX)(),(0,s.CE)("div",ce,[(0,s.Lk)("div",Ae,[(0,s.bF)(i,{onClick:r.handleBackButton},null,8,["onClick"]),(0,s.Lk)("button",{class:"arrow-button",onClick:t[0]||(t[0]=e=>o.changeLevel(-1)),disabled:o.isFirstLevel},t[2]||(t[2]=[(0,s.Lk)("img",{src:le,alt:"←",class:"arrow-icon"},null,-1)]),8,ue),"Rookie"===a.currentLevel?((0,s.uX)(),(0,s.CE)("div",ge,[(0,s.Lk)("img",{src:o.getLevelAvatar("teddy"),alt:"Rookie Banner",class:"rookie-image"},null,8,de),(0,s.Lk)("span",null,(0,d.v_)(a.currentLevel),1)])):(0,s.Q3)("",!0),"Explorer"===a.currentLevel?((0,s.uX)(),(0,s.CE)("div",me,[(0,s.Lk)("img",{src:o.getLevelAvatar("explor"),alt:"Explorer Banner",class:"explorer-image"},null,8,ve),(0,s.Lk)("span",null,(0,d.v_)(a.currentLevel),1)])):(0,s.Q3)("",!0),"Challenger"===a.currentLevel?((0,s.uX)(),(0,s.CE)("div",pe,[(0,s.Lk)("img",{src:o.getLevelAvatar("chall"),alt:"Challenger Banner",class:"explorer-image"},null,8,fe),(0,s.Lk)("span",null,(0,d.v_)(a.currentLevel),1)])):(0,s.Q3)("",!0),"Warrior"===a.currentLevel?((0,s.uX)(),(0,s.CE)("div",he,[(0,s.Lk)("img",{src:o.getLevelAvatar("idk"),alt:"Warrior Banner",class:"explorer-image"},null,8,ye),(0,s.Lk)("span",null,(0,d.v_)(a.currentLevel),1)])):(0,s.Q3)("",!0),"Legend"===a.currentLevel?((0,s.uX)(),(0,s.CE)("div",ke,[(0,s.Lk)("img",{src:o.getLevelAvatar("Leg"),alt:"Legend Banner",class:"explorer-image"},null,8,be),(0,s.Lk)("span",null,(0,d.v_)(a.currentLevel),1)])):(0,s.Q3)("",!0),(0,s.Lk)("button",{class:"arrow-button",onClick:t[1]||(t[1]=e=>o.changeLevel(1)),disabled:o.isLastLevel},t[3]||(t[3]=[(0,s.Lk)("img",{src:y,alt:"→",class:"arrow-icon"},null,-1)]),8,we)]),a.leaderboard.length>0?((0,s.uX)(),(0,s.CE)("div",Le,[t[4]||(t[4]=(0,s.Lk)("h1",null,"Leaderboard",-1)),(0,s.Lk)("div",Ce,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.filteredLeaderboard,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"card"},[(0,s.Lk)("div",Ee,[o.getLevelAvatar(e.level)?((0,s.uX)(),(0,s.CE)("img",{key:0,src:o.getLevelAvatar(e.level),alt:"Avatar",class:"level-avatar"},null,8,Be)):(0,s.Q3)("",!0),(0,s.Lk)("div",Ie,[(0,s.Lk)("div",Se,(0,d.v_)(e.name),1),(0,s.Lk)("div",xe,(0,d.v_)(e.score),1)]),(0,s.Lk)("div",Ue,"#"+(0,d.v_)(e.rank),1)])])))),128))])])):((0,s.uX)(),(0,s.CE)("p",Oe,"Нет данных для этого уровня."))])}n(8992),n(4520),n(2577),n(1454);var Re={components:{BackButton:ae.oq},setup(){function e(){window.history.back()}return{handleBackButton:e}},data(){return{leaderboard:[],levels:[{name:"Leg",minScore:0,maxScore:1e3,avatar:n(2563)},{name:"idk",minScore:0,maxScore:1e3,avatar:n(8524)},{name:"chall",minScore:0,maxScore:1e3,avatar:n(6200)},{name:"explor",minScore:0,maxScore:1e3,avatar:n(4460)},{name:"teddy",minScore:1e3,maxScore:5e3,avatar:n(3820)},{name:"Rookie",minScore:1e3,maxScore:5e3,avatar:n(3770)},{name:"Explorer",minScore:5e3,maxScore:1e4,avatar:n(9608)},{name:"Challenger",minScore:1e4,maxScore:15e3,avatar:n(5863)},{name:"Warrior",minScore:15e3,maxScore:2e4,avatar:n(286)},{name:"Legend",minScore:2e4,maxScore:1/0,avatar:n(286)}],currentLevel:"Rookie"}},computed:{filteredLeaderboard(){const e=this.leaderboard.filter((e=>e.level===this.currentLevel&&"teddy"!==e.level&&"explor"!==e.level&&"chall"!==e.level&&"idk"!==e.level&&"Leg"!==e.level));return e.map(((e,t)=>(e.rank=t+1,e)))},isFirstLevel(){const e=this.levels.filter((e=>"teddy"!==e.name&&"explor"!==e.name&&"chall"!==e.name&&"idk"!==e.name&&"Leg"!==e.name));return 0===e.findIndex((e=>e.name===this.currentLevel))},isLastLevel(){const e=this.levels.filter((e=>"teddy"!==e.name&&"explor"!==e.name&&"chall"!==e.name&&"idk"!==e.name&&"Leg"!==e.name));return e.findIndex((e=>e.name===this.currentLevel))===e.length-1}},watch:{currentLevel(){this.fetchLeaderboard()}},created(){this.fetchLeaderboard()},methods:{async fetchLeaderboard(){try{const{data:e,error:t}=await R.from("users").select("id, name, score, level").order("score",{ascending:!1});t?console.error("Ошибка при получении данных лидерборда:",t):this.leaderboard=e.map(((e,t)=>{if(!e.level){const t=this.levels.find((t=>e.score>=t.minScore&&e.score<t.maxScore));e.level=t?t.name:"Unranked"}return e.rank=t+1,e})).filter((e=>"teddy"!==e.level&&"explor"!==e.level&&"chall"!==e.level&&"idk"!==e.level&&"Leg"!==e.level))}catch(e){console.error("Ошибка при запросе данных:",e)}},changeLevel(e){const t=this.levels.filter((e=>"teddy"!==e.name&&"explor"!==e.name&&"chall"!==e.name&&"idk"!==e.name&&"Leg"!==e.name)).findIndex((e=>e.name===this.currentLevel)),n=this.levels.filter((e=>"teddy"!==e.name&&"explor"!==e.name&&"chall"!==e.name&&"idk"!==e.name&&"Leg"!==e.name)),r=t+e;r>=0&&r<n.length&&(this.currentLevel=n[r].name)},getLevelAvatar(e){const t=this.levels.find((t=>t.name===e));return t?t.avatar:null}}};const Ye=(0,c.A)(Re,[["render",Qe],["__scopeId","data-v-6a24b941"]]);var Te=Ye;const je=[{path:"/",component:M,name:"Home"},{path:"/wallet",component:ie,name:"Wallet"},{path:"/leaderboard",component:Te,name:"Leaderboard"}],Fe=(0,g.aE)({history:(0,g.LA)(),routes:je});var We=Fe;const Xe=(0,r.Ef)(u);Xe.use(a.xQ,{manifestUrl:"https://finer-9a857.web.app/manifest.json"}),Xe.use(We),Xe.mount("#app")},2563:function(e,t,n){"use strict";e.exports=n.p+"img/Legend.e16199fb.png"},6200:function(e,t,n){"use strict";e.exports=n.p+"img/chall.7f325b65.png"},4460:function(e,t,n){"use strict";e.exports=n.p+"img/explor.7e4a5467.png"},8524:function(e,t,n){"use strict";e.exports=n.p+"img/idk.0f9b63c1.png"},3770:function(e,t,n){"use strict";e.exports=n.p+"img/miner1.842eec94.png"},8001:function(e,t,n){"use strict";e.exports=n.p+"img/miner2.b2de4b05.png"},9608:function(e,t,n){"use strict";e.exports=n.p+"img/miner32.c395ca83.png"},5863:function(e,t,n){"use strict";e.exports=n.p+"img/miner4.535ef222.png"},286:function(e,t,n){"use strict";e.exports=n.p+"img/miner5.728028c9.png"},3820:function(e,t,n){"use strict";e.exports=n.p+"img/teddy.0aff4c70.png"},1281:function(){}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.m=e,function(){n.amdO={}}(),function(){var e=[];n.O=function(t,r,a,s){if(!r){var o=1/0;for(A=0;A<e.length;A++){r=e[A][0],a=e[A][1],s=e[A][2];for(var i=!0,l=0;l<r.length;l++)(!1&s||o>=s)&&Object.keys(n.O).every((function(e){return n.O[e](r[l])}))?r.splice(l--,1):(i=!1,s<o&&(o=s));if(i){e.splice(A--,1);var c=a();void 0!==c&&(t=c)}}return t}s=s||0;for(var A=e.length;A>0&&e[A-1][2]>s;A--)e[A]=e[A-1];e[A]=[r,a,s]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var i=2&a&&r;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((function(e){o[e]=function(){return r[e]}}));return o["default"]=function(){return r},n.d(s,o),s}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+e+".dab57662.js"}}(),function(){n.miniCssF=function(e){}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="finerlast:";n.l=function(r,a,s,o){if(e[r])e[r].push(a);else{var i,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),A=0;A<c.length;A++){var u=c[A];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==t+s){i=u;break}}i||(l=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,n.nc&&i.setAttribute("nonce",n.nc),i.setAttribute("data-webpack",t+s),i.src=r),e[r]=[a];var g=function(t,n){i.onerror=i.onload=null,clearTimeout(d);var a=e[r];if(delete e[r],i.parentNode&&i.parentNode.removeChild(i),a&&a.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(g.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=g.bind(null,i.onerror),i.onload=g.bind(null,i.onload),l&&document.head.appendChild(i)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){var e={524:0};n.f.j=function(t,r){var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var s=new Promise((function(n,r){a=e[t]=[n,r]}));r.push(a[2]=s);var o=n.p+n.u(t),i=new Error,l=function(r){if(n.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;i.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",i.name="ChunkLoadError",i.type=s,i.request=o,a[1](i)}};n.l(o,l,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,s,o=r[0],i=r[1],l=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(a in i)n.o(i,a)&&(n.m[a]=i[a]);if(l)var A=l(n)}for(t&&t(r);c<o.length;c++)s=o[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(A)},r=self["webpackChunkfinerlast"]=self["webpackChunkfinerlast"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[504],(function(){return n(405)}));r=n.O(r)})();
//# sourceMappingURL=app.d95b6007.js.map